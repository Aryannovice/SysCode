{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// New interfaces matching your backend\n\nclass APIClient {\n  // Problem Management\n  async getAllProblems() {\n    const response = await fetch(`${API_BASE}/problems`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch problems');\n    }\n    return response.json();\n  }\n  async generateRandomProblem(difficulty) {\n    const response = await fetch(`${API_BASE}/problems/generate?difficulty=${difficulty}`);\n    if (!response.ok) {\n      throw new Error('Failed to generate problem');\n    }\n    return response.json();\n  }\n  async getProblem(problemId) {\n    const response = await fetch(`${API_BASE}/problems/${problemId}`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch problem');\n    }\n    return response.json();\n  }\n  async getProblemsByDifficulty(difficulty) {\n    const response = await fetch(`${API_BASE}/problems/difficulty/${difficulty}`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch problems by difficulty');\n    }\n    return response.json();\n  }\n\n  // Solution Verification\n  async verifySolution(problemId, userSolution) {\n    const response = await fetch(`${API_BASE}/solutions/verify/${problemId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userSolution)\n    });\n    if (!response.ok) {\n      throw new Error('Failed to verify solution');\n    }\n    return response.json();\n  }\n  async getExpectedSolution(problemId) {\n    const response = await fetch(`${API_BASE}/solutions/${problemId}`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch expected solution');\n    }\n    return response.json();\n  }\n  async compareSolutions(problemId, userSolution) {\n    const response = await fetch(`${API_BASE}/solutions/compare/${problemId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userSolution)\n    });\n    if (!response.ok) {\n      throw new Error('Failed to compare solutions');\n    }\n    return response.json();\n  }\n\n  // LLM-Enhanced Features\n  async getDynamicHints(problemId, progress) {\n    const url = new URL(`${API_BASE}/problems/${problemId}/hints`);\n    if (progress) {\n      url.searchParams.append('progress', JSON.stringify(progress));\n    }\n    const response = await fetch(url.toString());\n    if (!response.ok) {\n      throw new Error('Failed to get hints');\n    }\n    return response.json();\n  }\n  async askAssistant(request) {\n    const response = await fetch(`${API_BASE}/assistant/ask`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(request)\n    });\n    if (!response.ok) {\n      throw new Error('Failed to ask assistant');\n    }\n    return response.json();\n  }\n  async getAssistantStatus() {\n    const response = await fetch(`${API_BASE}/assistant/status`);\n    if (!response.ok) {\n      throw new Error('Failed to get assistant status');\n    }\n    return response.json();\n  }\n\n  // Legacy methods for compatibility (can be removed later)\n  async getProblems() {\n    const data = await this.getAllProblems();\n    return data.problems;\n  }\n}\nexport const api = new APIClient();","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","APIClient","getAllProblems","response","fetch","ok","Error","json","generateRandomProblem","difficulty","getProblem","problemId","getProblemsByDifficulty","verifySolution","userSolution","method","headers","body","JSON","stringify","getExpectedSolution","compareSolutions","getDynamicHints","progress","url","URL","searchParams","append","toString","askAssistant","request","getAssistantStatus","getProblems","data","problems","api"],"sources":["D:/Downloads/internships/SysDesignLEETCODE/services/frontend/src/api.ts"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_URL || 'http://localhost:8000/api/v1';\n\n// New interfaces matching your backend\nexport interface Problem {\n  id: string;\n  title: string;\n  description: string;\n  tags: string[];\n  difficulty: string;\n  expectations: string[];\n}\n\nexport interface UserSolution {\n  architecture_components: string[];\n  design_choices: string[];\n  explanation?: string;\n}\n\nexport interface VerificationResult {\n  problem_id: string;\n  overall_score: number;\n  max_score: number;\n  component_analysis: {\n    score: number;\n    matched_components: string[];\n    missing_components: string[];\n    extra_components: string[];\n  };\n  design_choices_analysis: {\n    score: number;\n    addressed_expectations: string[];\n    missing_expectations: string[];\n  };\n  recommendations: string[];\n  llm_enhancement?: {\n    llm_enhanced_score: number;\n    llm_feedback: string;\n    strengths: string[];\n    improvements: string[];\n    advanced_concepts: string[];\n    industry_relevance: string;\n  };\n  follow_up_questions?: string[];\n}\n\nexport interface AssistantRequest {\n  question: string;\n  context_problem_id?: string;\n}\n\nexport interface AssistantResponse {\n  question: string;\n  answer: string;\n  related_concepts: string[];\n  confidence: string;\n}\n\nclass APIClient {\n  // Problem Management\n  async getAllProblems(): Promise<{problems: Problem[], stats: any}> {\n    const response = await fetch(`${API_BASE}/problems`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch problems');\n    }\n    return response.json();\n  }\n\n  async generateRandomProblem(difficulty: 'beginner' | 'intermediate'): Promise<Problem> {\n    const response = await fetch(`${API_BASE}/problems/generate?difficulty=${difficulty}`);\n    if (!response.ok) {\n      throw new Error('Failed to generate problem');\n    }\n    return response.json();\n  }\n\n  async getProblem(problemId: string): Promise<Problem> {\n    const response = await fetch(`${API_BASE}/problems/${problemId}`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch problem');\n    }\n    return response.json();\n  }\n\n  async getProblemsByDifficulty(difficulty: string): Promise<{difficulty: string, count: number, problems: Problem[]}> {\n    const response = await fetch(`${API_BASE}/problems/difficulty/${difficulty}`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch problems by difficulty');\n    }\n    return response.json();\n  }\n\n  // Solution Verification\n  async verifySolution(problemId: string, userSolution: UserSolution): Promise<VerificationResult> {\n    const response = await fetch(`${API_BASE}/solutions/verify/${problemId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(userSolution),\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to verify solution');\n    }\n    \n    return response.json();\n  }\n\n  async getExpectedSolution(problemId: string) {\n    const response = await fetch(`${API_BASE}/solutions/${problemId}`);\n    if (!response.ok) {\n      throw new Error('Failed to fetch expected solution');\n    }\n    return response.json();\n  }\n\n  async compareSolutions(problemId: string, userSolution: UserSolution) {\n    const response = await fetch(`${API_BASE}/solutions/compare/${problemId}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(userSolution),\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to compare solutions');\n    }\n    \n    return response.json();\n  }\n\n  // LLM-Enhanced Features\n  async getDynamicHints(problemId: string, progress?: any): Promise<{problem_id: string, hints: string[], total_hints: number}> {\n    const url = new URL(`${API_BASE}/problems/${problemId}/hints`);\n    if (progress) {\n      url.searchParams.append('progress', JSON.stringify(progress));\n    }\n    \n    const response = await fetch(url.toString());\n    if (!response.ok) {\n      throw new Error('Failed to get hints');\n    }\n    return response.json();\n  }\n\n  async askAssistant(request: AssistantRequest): Promise<AssistantResponse> {\n    const response = await fetch(`${API_BASE}/assistant/ask`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(request),\n    });\n    \n    if (!response.ok) {\n      throw new Error('Failed to ask assistant');\n    }\n    \n    return response.json();\n  }\n\n  async getAssistantStatus(): Promise<{llm_available: boolean, openai_configured: boolean, features: any}> {\n    const response = await fetch(`${API_BASE}/assistant/status`);\n    if (!response.ok) {\n      throw new Error('Failed to get assistant status');\n    }\n    return response.json();\n  }\n\n  // Legacy methods for compatibility (can be removed later)\n  async getProblems() {\n    const data = await this.getAllProblems();\n    return data.problems;\n  }\n}\n\nexport const api = new APIClient();\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}