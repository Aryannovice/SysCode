{"ast":null,"code":"var _jsxFileName = \"D:\\\\Downloads\\\\internships\\\\SysDesignLEETCODE\\\\services\\\\frontend\\\\src\\\\components\\\\ChatBox.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { api } from '../api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ChatBox = ({\n  problemId\n}) => {\n  _s();\n  const [messages, setMessages] = useState([{\n    id: '1',\n    type: 'assistant',\n    content: 'Hi! I\\'m your AI System Design Assistant. Ask me about system design concepts, architecture patterns, or get hints for your current problem. I\\'m here to help you learn!',\n    timestamp: new Date()\n  }]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [assistantStatus, setAssistantStatus] = useState(null);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    // Check assistant status on mount\n    const checkStatus = async () => {\n      try {\n        const status = await api.getAssistantStatus();\n        setAssistantStatus(status);\n        if (!status.llm_available) {\n          const systemMessage = {\n            id: 'status',\n            type: 'system',\n            content: 'âš ï¸ AI assistant is running in fallback mode. OpenAI API key not configured. You\\'ll still get helpful responses, but they won\\'t be as intelligent.',\n            timestamp: new Date()\n          };\n          setMessages(prev => [...prev, systemMessage]);\n        }\n      } catch (error) {\n        console.error('Failed to check assistant status:', error);\n      }\n    };\n    checkStatus();\n  }, []);\n  const getHints = async () => {\n    if (!problemId) {\n      alert('No problem selected for hints');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      const hintsResponse = await api.getDynamicHints(problemId);\n      const hintsMessage = {\n        id: Date.now().toString(),\n        type: 'hints',\n        content: `Here are some hints for this problem:\\n\\n${hintsResponse.hints.map((hint, idx) => `${idx + 1}. ${hint}`).join('\\n')}`,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, hintsMessage]);\n    } catch (error) {\n      console.error('Failed to get hints:', error);\n      const errorMessage = {\n        id: Date.now().toString(),\n        type: 'system',\n        content: 'Sorry, I couldn\\'t get hints right now. Please try again later.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(scrollToBottom, [messages]);\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || isLoading) return;\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue,\n      timestamp: new Date()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    const question = inputValue;\n    setInputValue('');\n    setIsLoading(true);\n    try {\n      const response = await api.askAssistant({\n        question,\n        context_problem_id: problemId\n      });\n      const assistantMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: response.answer,\n        timestamp: new Date(),\n        relatedConcepts: response.related_concepts,\n        confidence: response.confidence\n      };\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Failed to get assistant response:', error);\n      const errorMessage = {\n        id: (Date.now() + 1).toString(),\n        type: 'system',\n        content: 'Sorry, I encountered an error. Please try again.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chat-box ${isMinimized ? 'minimized' : ''}`,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"chat-toggle\",\n      onClick: () => setIsMinimized(!isMinimized),\n      title: isMinimized ? 'Open chat' : 'Minimize chat',\n      children: isMinimized ? 'ðŸ’¬' : 'âˆ’'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), !isMinimized && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\uD83E\\uDD16 AI Assistant\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-status\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: isLoading ? 'thinking' : 'ready',\n            children: isLoading ? 'Thinking...' : assistantStatus !== null && assistantStatus !== void 0 && assistantStatus.llm_available ? 'ðŸŸ¢ AI Ready' : 'ðŸŸ¡ Fallback Mode'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-actions\",\n        children: [problemId && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"hint-button\",\n          onClick: getHints,\n          disabled: isLoading,\n          children: \"\\uD83D\\uDCA1 Get Hints\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quick-questions\",\n          children: [/*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Quick questions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setInputValue('What is load balancing?'),\n            children: \"Load Balancing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setInputValue('How does caching work?'),\n            children: \"Caching\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setInputValue('What is database sharding?'),\n            children: \"Sharding\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-messages\",\n        children: [messages.map(message => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${message.type}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-content\",\n            children: message.type === 'hints' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"hints-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hints-header\",\n                children: \"\\uD83D\\uDCA1 Hints for this problem:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hints-list\",\n                children: message.content.split('\\n').filter(line => line.trim()).map((line, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"hint-item\",\n                  children: line\n                }, idx, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: message.content.split('\\n').map((line, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                children: line\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 21\n              }, this))\n            }, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), message.relatedConcepts && message.relatedConcepts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"related-concepts\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              children: [\"Related concepts: \", message.relatedConcepts.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"message-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"message-timestamp\",\n              children: message.timestamp.toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), message.confidence && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `confidence confidence-${message.confidence}`,\n              children: [message.confidence, \" confidence\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, message.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"message assistant loading\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"typing-indicator\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-input\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: inputValue,\n            onChange: e => setInputValue(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: \"Ask about system design concepts, patterns, or get help with your current problem...\",\n            rows: 2,\n            disabled: isLoading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleSendMessage,\n            disabled: !inputValue.trim() || isLoading,\n            className: \"send-button\",\n            children: isLoading ? '...' : 'Send'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatBox, \"3lTts2Dg09mYxCum21DPZI9sbvw=\");\n_c = ChatBox;\nexport default ChatBox;\nvar _c;\n$RefreshReg$(_c, \"ChatBox\");","map":{"version":3,"names":["React","useState","useEffect","useRef","api","jsxDEV","_jsxDEV","Fragment","_Fragment","ChatBox","problemId","_s","messages","setMessages","id","type","content","timestamp","Date","inputValue","setInputValue","isLoading","setIsLoading","isMinimized","setIsMinimized","assistantStatus","setAssistantStatus","messagesEndRef","checkStatus","status","getAssistantStatus","llm_available","systemMessage","prev","error","console","getHints","alert","hintsResponse","getDynamicHints","hintsMessage","now","toString","hints","map","hint","idx","join","errorMessage","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","question","response","askAssistant","context_problem_id","assistantMessage","answer","relatedConcepts","related_concepts","confidence","handleKeyPress","e","key","shiftKey","preventDefault","className","children","onClick","title","fileName","_jsxFileName","lineNumber","columnNumber","disabled","message","split","filter","line","length","toLocaleTimeString","ref","value","onChange","target","onKeyPress","placeholder","rows","_c","$RefreshReg$"],"sources":["D:/Downloads/internships/SysDesignLEETCODE/services/frontend/src/components/ChatBox.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { api, AssistantResponse } from '../api';\n\ninterface Message {\n  id: string;\n  type: 'user' | 'assistant' | 'system' | 'hints';\n  content: string;\n  timestamp: Date;\n  relatedConcepts?: string[];\n  confidence?: string;\n}\n\ninterface ChatBoxProps {\n  problemId?: string;\n}\n\nconst ChatBox: React.FC<ChatBoxProps> = ({ problemId }) => {\n  const [messages, setMessages] = useState<Message[]>([\n    {\n      id: '1',\n      type: 'assistant',\n      content: 'Hi! I\\'m your AI System Design Assistant. Ask me about system design concepts, architecture patterns, or get hints for your current problem. I\\'m here to help you learn!',\n      timestamp: new Date()\n    }\n  ]);\n  const [inputValue, setInputValue] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [assistantStatus, setAssistantStatus] = useState<any>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // Check assistant status on mount\n    const checkStatus = async () => {\n      try {\n        const status = await api.getAssistantStatus();\n        setAssistantStatus(status);\n        \n        if (!status.llm_available) {\n          const systemMessage: Message = {\n            id: 'status',\n            type: 'system',\n            content: 'âš ï¸ AI assistant is running in fallback mode. OpenAI API key not configured. You\\'ll still get helpful responses, but they won\\'t be as intelligent.',\n            timestamp: new Date()\n          };\n          setMessages(prev => [...prev, systemMessage]);\n        }\n      } catch (error) {\n        console.error('Failed to check assistant status:', error);\n      }\n    };\n    checkStatus();\n  }, []);\n\n  const getHints = async () => {\n    if (!problemId) {\n      alert('No problem selected for hints');\n      return;\n    }\n    \n    setIsLoading(true);\n    try {\n      const hintsResponse = await api.getDynamicHints(problemId);\n      const hintsMessage: Message = {\n        id: Date.now().toString(),\n        type: 'hints',\n        content: `Here are some hints for this problem:\\n\\n${hintsResponse.hints.map((hint, idx) => `${idx + 1}. ${hint}`).join('\\n')}`,\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, hintsMessage]);\n    } catch (error) {\n      console.error('Failed to get hints:', error);\n      const errorMessage: Message = {\n        id: Date.now().toString(),\n        type: 'system',\n        content: 'Sorry, I couldn\\'t get hints right now. Please try again later.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(scrollToBottom, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!inputValue.trim() || isLoading) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputValue,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    const question = inputValue;\n    setInputValue('');\n    setIsLoading(true);\n\n    try {\n      const response = await api.askAssistant({\n        question,\n        context_problem_id: problemId\n      });\n      \n      const assistantMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        type: 'assistant',\n        content: response.answer,\n        timestamp: new Date(),\n        relatedConcepts: response.related_concepts,\n        confidence: response.confidence\n      };\n\n      setMessages(prev => [...prev, assistantMessage]);\n    } catch (error) {\n      console.error('Failed to get assistant response:', error);\n      const errorMessage: Message = {\n        id: (Date.now() + 1).toString(),\n        type: 'system',\n        content: 'Sorry, I encountered an error. Please try again.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className={`chat-box ${isMinimized ? 'minimized' : ''}`}>\n      <button \n        className=\"chat-toggle\"\n        onClick={() => setIsMinimized(!isMinimized)}\n        title={isMinimized ? 'Open chat' : 'Minimize chat'}\n      >\n        {isMinimized ? 'ðŸ’¬' : 'âˆ’'}\n      </button>\n      \n      {!isMinimized && (\n        <>\n          <div className=\"chat-header\">\n            <h3>ðŸ¤– AI Assistant</h3>\n            <div className=\"chat-status\">\n              <span className={isLoading ? 'thinking' : 'ready'}>\n                {isLoading ? 'Thinking...' : assistantStatus?.llm_available ? 'ðŸŸ¢ AI Ready' : 'ðŸŸ¡ Fallback Mode'}\n              </span>\n            </div>\n          </div>\n\n      <div className=\"chat-actions\">\n        {problemId && (\n          <button \n            className=\"hint-button\"\n            onClick={getHints}\n            disabled={isLoading}\n          >\n            ðŸ’¡ Get Hints\n          </button>\n        )}\n        <div className=\"quick-questions\">\n          <small>Quick questions:</small>\n          <button onClick={() => setInputValue('What is load balancing?')}>Load Balancing</button>\n          <button onClick={() => setInputValue('How does caching work?')}>Caching</button>\n          <button onClick={() => setInputValue('What is database sharding?')}>Sharding</button>\n        </div>\n      </div>\n\n      <div className=\"chat-messages\">\n        {messages.map(message => (\n          <div key={message.id} className={`message ${message.type}`}>\n            <div className=\"message-content\">\n              {message.type === 'hints' ? (\n                <div className=\"hints-content\">\n                  <div className=\"hints-header\">ðŸ’¡ Hints for this problem:</div>\n                  <div className=\"hints-list\">\n                    {message.content.split('\\n').filter(line => line.trim()).map((line, idx) => (\n                      <div key={idx} className=\"hint-item\">{line}</div>\n                    ))}\n                  </div>\n                </div>\n              ) : (\n                <>\n                  {message.content.split('\\n').map((line, idx) => (\n                    <div key={idx}>{line}</div>\n                  ))}\n                </>\n              )}\n            </div>\n            \n            {message.relatedConcepts && message.relatedConcepts.length > 0 && (\n              <div className=\"related-concepts\">\n                <small>Related concepts: {message.relatedConcepts.join(', ')}</small>\n              </div>\n            )}\n            \n            <div className=\"message-footer\">\n              <div className=\"message-timestamp\">\n                {message.timestamp.toLocaleTimeString()}\n              </div>\n              {message.confidence && (\n                <div className={`confidence confidence-${message.confidence}`}>\n                  {message.confidence} confidence\n                </div>\n              )}\n            </div>\n          </div>\n        ))}\n        {isLoading && (\n          <div className=\"message assistant loading\">\n            <div className=\"typing-indicator\">\n              <span></span>\n              <span></span>\n              <span></span>\n            </div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div className=\"chat-input\">\n        <div className=\"input-container\">\n          <textarea\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Ask about system design concepts, patterns, or get help with your current problem...\"\n            rows={2}\n            disabled={isLoading}\n          />\n          <button\n            onClick={handleSendMessage}\n            disabled={!inputValue.trim() || isLoading}\n            className=\"send-button\"\n          >\n            {isLoading ? '...' : 'Send'}\n          </button>\n        </div>\n      </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ChatBox;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}